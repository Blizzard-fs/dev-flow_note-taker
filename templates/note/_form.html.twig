{# templates/note/_form.html.twig
   Renders the Note form with DevFlow dark-theme styling.
   Assumes NoteType fields: title, content, client (EntityType), tags (TextType / CollectionType)
   Pass {{ form }} from the controller.
#}
{{ form_start(form, { attr: { class: 'space-y-6', novalidate: 'novalidate' } }) }}

    {# Title #}
    <div>
        {{ form_label(form.title, 'Note Title', { label_attr: { class: 'block text-sm font-medium text-slate-300 mb-1.5' } }) }}
        {{ form_widget(form.title, { attr: {
            class: 'w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2.5 text-sm text-slate-200 placeholder-slate-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all',
            placeholder: 'e.g. API Integration Specs v2.4'
        }}) }}
        {{ form_errors(form.title, { attr: { class: 'mt-1 text-xs text-red-400' } }) }}
    </div>

    {# Client #}
    <div>
        {{ form_label(form.client, 'Client', { label_attr: { class: 'block text-sm font-medium text-slate-300 mb-1.5' } }) }}
        {{ form_widget(form.client, { attr: {
            class: 'w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2.5 text-sm text-slate-200 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all'
        }}) }}
        {{ form_errors(form.client, { attr: { class: 'mt-1 text-xs text-red-400' } }) }}
    </div>

    {# Description #}
    <div>
        {{ form_label(form.description, 'Description', { label_attr: { class: 'block text-sm font-medium text-slate-300 mb-1.5' } }) }}
        {{ form_widget(form.description, { attr: {
            class: 'w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2.5 text-sm text-slate-200 placeholder-slate-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all resize-none',
            rows: '10',
            placeholder: 'Write your description here…'
        }}) }}
        {{ form_errors(form.description, { attr: { class: 'mt-1 text-xs text-red-400' } }) }}
    </div>

    {# Tags #}
    {% if form.tags is defined %}
    <div>
        {{ form_label(form.tags, 'Tags', { label_attr: { class: 'block text-sm font-medium text-slate-300 mb-1.5' } }) }}
        {{ form_widget(form.tags, { attr: {
            class: 'w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2.5 text-sm text-slate-200 placeholder-slate-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all',
            placeholder: 'Feature, Docs, Bugfix …'
        }}) }}
        <p class="mt-1 text-xs text-slate-500">Separate tags with commas.</p>
        {{ form_errors(form.tags, { attr: { class: 'mt-1 text-xs text-red-400' } }) }}
    </div>
    {% endif %}

    {# Markdown #}
    <div>
        {{ form_label(form.markdown, 'Markdown', { label_attr: { class: 'block text-sm font-medium text-slate-300 mb-1.5' } }) }}
        {{ form_widget(form.markdown, { attr: {
            class: 'w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2.5 text-sm text-slate-200 placeholder-slate-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all resize-none',
            rows: '10',
            placeholder: 'Write your note here…'
        }}) }}
        {{ form_errors(form.markdown, { attr: { class: 'mt-1 text-xs text-red-400' } }) }}
    </div>

    {# Actions #}
    <div class="flex items-center justify-between pt-2 border-t border-slate-800">
        <a href="{{ path('app_note_index') }}"
           class="flex items-center gap-2 px-4 py-2.5 rounded-lg border border-slate-700 hover:border-slate-600 bg-surface-dark/50 text-slate-300 text-sm font-medium transition-all">
            <span class="material-symbols-outlined text-[18px]">arrow_back</span> Cancel
        </a>
        <button type="submit"
                class="flex items-center gap-2 px-5 py-2.5 rounded-lg bg-primary hover:bg-primary-dark text-white text-sm font-bold shadow-lg shadow-blue-500/20 transition-all">
            <span class="material-symbols-outlined text-[18px]">save</span>
            {{ button_label ?? 'Save Note' }}
        </button>
    </div>

{{ form_end(form) }}
